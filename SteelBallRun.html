<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Steel Ball Run ‚Äî Part 7</title>

<!-- PDF.js (same major version as the rest) -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.12.313/pdf.min.js"></script>

<!-- Western fonts -->
<link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@700;900&family=Merriweather:wght@300;700&display=swap" rel="stylesheet">

<style>
  :root{
    /* Classic SBR western palette */
    --denim: #0f3d6b;        /* deep denim blue */
    --sand-1: #f7e9d2;      /* pale sand / parchment */
    --sand-2: #e6d4b0;      /* warmer parchment */
    --wood: #3a2a20;        /* deep wood */
    --accent: #d38b32;      /* burnt-gold / western accent */
    --rope: #c9a26a;        /* rope color */
    --glow: rgba(211,139,50,0.18); /* dusty glow */
    --card-bg: #2b241f;     /* leather card */
    --text: #f6efde;        /* parchment text */
  }

  html,body{
    height:100%;
    margin:0;
    font-family: "Merriweather", Georgia, serif;
    background:
      radial-gradient(circle at 10% 10%, rgba(255,255,255,0.03), transparent 8%),
      linear-gradient(180deg, #111417 0%, #0b1020 40%),
      var(--denim);
    color: var(--text);
    -webkit-font-smoothing:antialiased;
    -moz-osx-font-smoothing:grayscale;
    overflow-y:auto;
  }

  /* subtle parchment panel behind content */
  main.wrap {
    max-width:1200px;
    margin: 28px auto 80px;
    padding: 22px;
    background: linear-gradient(180deg, rgba(247,233,210,0.04), rgba(0,0,0,0.03));
    border-radius: 12px;
  }

  /* Wood header with burned edges and rope element */
  header {
    position: sticky;
    top: 0;
    z-index: 30;
    display:flex;
    align-items:center;
    justify-content:center;
    height:92px;
    margin:0;
    background:
      linear-gradient(180deg, #4a2f1d 0%, #3a2416 60%),
      linear-gradient(90deg, rgba(255,255,255,0.02), rgba(0,0,0,0.04));
    box-shadow: 0 8px 36px rgba(0,0,0,0.6);
    border-bottom: 6px solid var(--accent);
  }

  /* Header logo text */
  .brand {
    font-family: "Cinzel", serif;
    color: var(--sand-1);
    font-weight: 900;
    font-size: 28px;
    letter-spacing: 2px;
    text-transform: uppercase;
    text-shadow: 0 2px 0 rgba(0,0,0,0.6), 0 6px 18px rgba(0,0,0,0.5);
    display:flex;
    gap:12px;
    align-items:center;
  }

  /* small badge (metal rivet) to left */
  .brand .badge {
    width:48px;
    height:48px;
    border-radius:8px;
    background: linear-gradient(180deg,#d9b87a, #b07b2a);
    box-shadow: inset 0 -3px 6px rgba(0,0,0,0.35), 0 4px 10px rgba(0,0,0,0.45);
    display:flex;
    align-items:center;
    justify-content:center;
    font-weight:700;
    color:#2a170b;
    font-family: "Cinzel", serif;
    transform: rotate(-6deg);
  }

  .subheader {
    text-align:center;
    color: var(--sand-2);
    margin-top:8px;
    font-size:13px;
    opacity:.95;
    font-weight:600;
  }

  /* controls (home/back) styled like metal plates */
  .controls {
    display:flex;
    justify-content:center;
    gap:12px;
    padding:18px 20px;
  }

  .btn {
    background: linear-gradient(180deg,#3b2a20,#2a1b12);
    color: var(--sand-1);
    border: 2px solid rgba(255,255,255,0.06);
    padding:8px 12px;
    border-radius:8px;
    cursor:pointer;
    font-weight:700;
    letter-spacing:0.6px;
    box-shadow: 0 6px 18px rgba(0,0,0,0.5);
    transition: transform .12s ease, box-shadow .12s ease;
    font-family:"Merriweather", serif;
  }
  .btn:hover{
    transform: translateY(-3px);
    box-shadow: 0 12px 28px var(--glow);
    color: #fff8ea;
    border-color: rgba(211,139,50,0.9);
  }

  /* grid of volume cards ‚Äî give them a leather + poster frame feel */
  .grid {
    display:grid;
    grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
    gap:20px;
    padding:8px;
  }

  .volume-card {
    background: linear-gradient(180deg,#2a1f19, #231913);
    border-radius:12px;
    overflow:hidden;
    border: 4px solid rgba(211,139,50,0.18); /* dusty gold frame */
    box-shadow: 0 10px 30px rgba(0,0,0,0.6);
    cursor:pointer;
    transition: transform .14s ease, box-shadow .14s ease;
    position:relative;
    min-height:100px;
  }
  .volume-card::before{
    /* rope frame top */
    content:'';
    position:absolute;
    inset:8px 8px auto 8px;
    height:24px;
    border-radius:6px;
    background:
      linear-gradient(135deg, rgba(201,162,106,1) 0%, rgba(197,145,78,1) 50%, rgba(201,162,106,1) 100%);
    box-shadow: inset 0 2px 0 rgba(255,255,255,0.06);
    transform:translateY(-10px) rotate(-1deg);
    z-index:8;
  }

  .volume-card img{
    width:100%;
    height:280px;
    object-fit:cover;
    display:block;
    -webkit-user-drag:none;
    user-drag:none;
  }

  .volume-meta {
    padding:14px;
    display:flex;
    flex-direction:column;
    gap:6px;
    z-index:10;
  }

  .volume-title{
    font-family:"Cinzel", serif;
    color: var(--accent);
    font-weight:900;
    font-size:16px;
    text-shadow: 0 1px 0 rgba(0,0,0,0.6);
  }

  .volume-sub {
    color: var(--sand-2);
    font-size:13px;
  }

  .volume-card:hover{
    transform: translateY(-10px) rotate(-0.5deg);
    box-shadow: 0 26px 48px rgba(0,0,0,0.65), 0 10px 60px var(--glow);
    outline: 3px solid rgba(211,139,50,0.12);
  }

  /* small "wanted" stamp */
  .stamp {
    position:absolute;
    right:12px;
    top:12px;
    transform: rotate(-18deg);
    background: rgba(255,255,255,0.04);
    color: rgba(255,210,150,0.95);
    padding:6px 10px;
    border-radius:4px;
    border:1px solid rgba(255,210,150,0.06);
    font-weight:800;
    font-family:"Cinzel",serif;
    font-size:12px;
    letter-spacing:1px;
    z-index:12;
    text-shadow: 0 1px 0 rgba(0,0,0,0.5);
  }

  /* reader overlay (keep functionality identical) */
  #reader {
    display:none;
    position:fixed;
    inset:0;
    z-index:99999;
    background: rgba(0,0,0,0.96);
    align-items:center;
    justify-content:center;
    flex-direction: column;
  }

  #pdf-canvas {
    max-width: 96%;
    max-height: 84%;
    box-shadow: 0 12px 40px rgba(0,0,0,0.6);
    background:#fff;
  }

  .reader-topbar {
    position:absolute;
    top:12px;
    left:12px;
    display:flex;
    gap:8px;
    z-index:1000000;
  }

  .reader-topbar .btn {
    padding:8px 12px;
    font-size:14px;
    border-radius:6px;
  }

  #page-info {
    position:absolute;
    right:14px;
    bottom:14px;
    background: rgba(211,139,50,0.18);
    color: #fff8ea;
    padding:8px 12px;
    border-radius:8px;
    font-weight:700;
    z-index:1000000;
    backdrop-filter: blur(2px);
    font-family:"Cinzel",serif;
  }

  .nav-zone {
    position:absolute;
    top:72px;
    bottom:0;
    width:50%;
    z-index:999990;
  }
  #prev-zone{ left:0; }
  #next-zone{ right:0; }

  /* responsive */
  @media (max-width:900px){
    header{height:84px}
  }
  @media (max-width:640px){
    .volume-card img{height:220px}
    .nav-zone{ top:56px }
    .brand{ font-size:20px }
  }
</style>
</head>

<body>

<header>
  <div class="brand">
    <div class="badge">SBR</div>
    <div>
      Steel Ball Run
      <div style="font-size:12px; font-weight:600; color:var(--sand-2); letter-spacing:0; margin-top:4px;">Part 7 ‚Äî A Western Race</div>
    </div>
  </div>
</header>

<div class="subheader">Dusty roads, outlaw racers, and the race across America</div>

<main class="wrap">
  <div class="controls">
    <button class="btn" onclick="goHome()">üè† Home</button>
    <button class="btn" onclick="history.back()">‚Üê Back</button>
  </div>

  <section class="grid" id="volume-list">
    <div class="volume-card" onclick="openPDF('JoJo_s Bizzare Adventure - Part 7 - Volume 1 - September 5th, 1890 San Diego Beach.pdf')">
      <div class="stamp">Volume 1</div>
      <img src="vol1cover.png" alt="">
      <div class="volume-meta">
        <div class="volume-title">SBR ‚Äì Volume 1</div>
        <div class="volume-sub">September 5th, 1890 San Diego Beach</div>
      </div>
    </div>

    <div class="volume-card" onclick="openPDF('JoJo_s Bizzare Adventure - Part 7 - Volume 2 - First Stage, 15,000 Meters.pdf')">
      <div class="stamp">Volume 2</div>
      <img src="vol2cover.png" alt="">
      <div class="volume-meta">
        <div class="volume-title">SBR ‚Äì Volume 2</div>
        <div class="volume-sub">Volume 2 - First Stage, 15,000 Meters</div>
      </div>
    </div>

    <div class="volume-card" onclick="openPDF('JoJo_s Bizzare Adventure - Part 7 - Volume 3 - Second Stage, Arizona Desert Crossing.pdf')">
      <div class="stamp">Volume 3</div>
      <img src="vol3cover.png" alt="">
      <div class="volume-meta">
        <div class="volume-title">SBR ‚Äì Volume 3</div>
        <div class="volume-sub">Second Stage, Arizona Desert Crossing</div>
      </div>
    </div>

    <div class="volume-card" onclick="openPDF('JoJo_s Bizzare Adventure - Part 7 - Volume 4 - Gyro Zeppeli_s Mission.pdf')">
      <div class="stamp">Volume 4</div>
      <img src="vol4cover.png" alt="">
      <div class="volume-meta">
        <div class="volume-title">SBR ‚Äì Volume 4</div>
        <div class="volume-sub">Gyro Zeppeli's Mission</div>
      </div>
    </div>

    <div class="volume-card" onclick="openPDF('JoJo_s Bizzare Adventure - Part 7 - Volume 5 - The President_s Conspiracy.pdf')">
      <div class="stamp">Volume 5</div>
      <img src="vol5cover.png" alt="">
      <div class="volume-meta">
        <div class="volume-title">SBR ‚Äì Volume 5</div>
        <div class="volume-sub">The President's Conspiracy</div>
      </div>
    </div>

    <div class="volume-card" onclick="openPDF('JoJo_s Bizzare Adventure - Part 7 - Volume 6 - Scary Monsters.pdf')">
      <div class="stamp">Volume 6</div>
      <img src="vol6cover.png" alt="">
      <div class="volume-meta">
        <div class="volume-title">SBR ‚Äì Volume 6</div>
        <div class="volume-sub">Scary Monsters</div>
      </div>
    </div>

    <div class="volume-card" onclick="openPDF('JoJo_s Bizzare Adventure - Part 7 - Volume 7 - A Little Grave on the Wide, Wide Prairie.pdf')">
      <div class="stamp">Volume 7</div>
      <img src="vol7cover.png" alt="">
      <div class="volume-meta">
        <div class="volume-title">SBR ‚Äì Volume 7</div>
        <div class="volume-sub">A Little Grave on the Wide, Wide Prairie</div>
      </div>
    </div>

    <div class="volume-card" onclick="openPDF('JoJo_s Bizzare Adventure - Part 7 - Volume 8 - To a Man_s World.pdf')">
      <div class="stamp">Volume 8</div>
      <img src="vol8cover.png" alt="">
      <div class="volume-meta">
        <div class="volume-title">SBR ‚Äì Volume 8</div>
        <div class="volume-sub">To a Man's World</div>
      </div>
    </div>

    <div class="volume-card" onclick="openPDF('JoJo_s Bizzare Adventure - Part 7 - Volume 9 - A Stormy Night is Coming.pdf')">
      <div class="stamp">Volume 9</div>
      <img src="vol9cover.png" alt="">
      <div class="volume-meta">
        <div class="volume-title">SBR ‚Äì Volume 9</div>
        <div class="volume-sub">A Stormy Night is Coming</div>
      </div>
    </div>

    <div class="volume-card" onclick="openPDF('JoJo_s Bizzare Adventure - Part 7 - Volume 10 - Illinois Skyline, Michigan Lakeline.pdf')">
      <div class="stamp">Volume 10</div>
      <img src="vol10cover.png" alt="">
      <div class="volume-meta">
        <div class="volume-title">SBR ‚Äì Volume 10</div>
        <div class="volume-sub">Illinois Skyline, Michigan Lakeline</div>
      </div>
    </div>

    <div class="volume-card" onclick="openPDF('JoJo_s Bizzare Adventure - Part 7 - Volume 11 - Create the Golden Rectangle!.pdf')">
      <div class="stamp">Volume 11</div>
      <img src="vol11cover.png" alt="">
      <div class="volume-meta">
        <div class="volume-title">SBR ‚Äì Volume 11</div>
        <div class="volume-sub">Create the Golden Rectangle!</div>
      </div>
    </div>

    <div class="volume-card" onclick="openPDF('JoJo_s Bizzare Adventure - Part 7 - Volume 12 - Qualifications for the Corpse, Qualifications for Friendship.pdf')">
      <div class="stamp">Volume 12</div>
      <img src="vol12cover.png" alt="">
      <div class="volume-meta">
        <div class="volume-title">SBR ‚Äì Volume 12</div>
        <div class="volume-sub">Qualifications for the Corpse, Qualifications for Friendship</div>
      </div>
    </div>

    <div class="volume-card" onclick="openPDF('JoJo_s Bizzare Adventure - Part 7 - Volume 13 - Wrecking Ball.pdf')">
      <div class="stamp">Volume 13</div>
      <img src="vol13cover.png" alt="">
      <div class="volume-meta">
        <div class="volume-title">SBR ‚Äì Volume 13</div>
        <div class="volume-sub">Wrecking Ball</div>
      </div>
    </div>

    <div class="volume-card" onclick="openPDF('JoJo_s Bizzare Adventure - Part 7 - Volume 14 - The Victor_s Rights.pdf')">
      <div class="stamp">Volume 14</div>
      <img src="vol14cover.png" alt="">
      <div class="volume-meta">
        <div class="volume-title">SBR ‚Äì Volume 14</div>
        <div class="volume-sub">The Victor's Rights</div>
      </div>
    </div>

    <div class="volume-card" onclick="openPDF('JoJo_s Bizzare Adventure - Part 7 - Volume 15 - A Dream of Gettysburg.pdf')">
      <div class="stamp">Volume 15</div>
      <img src="vol15cover.png" alt="">
      <div class="volume-meta">
        <div class="volume-title">SBR ‚Äì Volume 15</div>
        <div class="volume-sub">A Dream of Gettysburg</div>
      </div>
    </div>

    <div class="volume-card" onclick="openPDF('JoJo_s Bizzare Adventure - Part 7 - Volume 16 - Dirty Deeds Done Dirt Cheap.pdf')">
      <div class="stamp">Volume 16</div>
      <img src="vol16cover.png" alt="">
      <div class="volume-meta">
        <div class="volume-title">SBR ‚Äì Volume 16</div>
        <div class="volume-sub">Dirty Deeds Done Dirt Cheap</div>
      </div>
    </div>

    <div class="volume-card" onclick="openPDF('JoJo_s Bizzare Adventure - Part 7 - Volume 17 - D4C.pdf')">
      <div class="stamp">Volume 17</div>
      <img src="vol17cover.png" alt="">
      <div class="volume-meta">
        <div class="volume-title">SBR ‚Äì Volume 17</div>
        <div class="volume-sub">D4C</div>
      </div>
    </div>

    <div class="volume-card" onclick="openPDF('JoJo_s Bizzare Adventure - Part 7 - Volume 18 - Ticket to Ride.pdf')">
      <div class="stamp">Volume 18</div>
      <img src="vol18cover.png" alt="">
      <div class="volume-meta">
        <div class="volume-title">SBR ‚Äì Volume 18</div>
        <div class="volume-sub">Ticket to Ride</div>
      </div>
    </div>

    <div class="volume-card" onclick="openPDF('JoJo_s Bizzare Adventure - Part 7 - Volume 19 - You Can_t Get Rich.pdf')">
      <div class="stamp">Volume 19</div>
      <img src="vol19cover.png" alt="">
      <div class="volume-meta">
        <div class="volume-title">SBR ‚Äì Volume 19</div>
        <div class="volume-sub">You Can't Get Rich</div>
      </div>
    </div>

    <div class="volume-card" onclick="openPDF('JoJo_s Bizzare Adventure - Part 7 - Volume 20 - Love Train - The World is One.pdf')">
      <div class="stamp">Volume 20</div>
      <img src="vol20cover.png" alt="">
      <div class="volume-meta">
        <div class="volume-title">SBR ‚Äì Volume 20</div>
        <div class="volume-sub">The World is One</div>
      </div>
    </div>

    <div class="volume-card" onclick="openPDF('JoJo_s Bizzare Adventure - Part 7 - Volume 21 - Ball Breaker.pdf')">
      <div class="stamp">Volume 21</div>
      <img src="vol21cover.png" alt="">
      <div class="volume-meta">
        <div class="volume-title">SBR ‚Äì Volume 21</div>
        <div class="volume-sub">Ball Breaker</div>
      </div>
    </div>

    <div class="volume-card" onclick="openPDF('JoJo_s Bizzare Adventure - Part 7 - Volume 22 - Break My Heart, Break Your Heart.pdf')">
      <div class="stamp">Volume 22</div>
      <img src="vol22cover.png" alt="">
      <div class="volume-meta">
        <div class="volume-title">SBR ‚Äì Volume 22</div>
        <div class="volume-sub">Break My Heart, Break Your Heart</div>
      </div>
    </div>

    <div class="volume-card" onclick="openPDF('JoJo_s Bizzare Adventure - Part 7 - Volume 23 - High Voltage.pdf')">
      <div class="stamp">Volume 23</div>
      <img src="vol23cover.png" alt="">
      <div class="volume-meta">
        <div class="volume-title">SBR ‚Äì Volume 23</div>
        <div class="volume-sub">High Voltage</div>
      </div>
    </div>

    <div class="volume-card" onclick="openPDF('JoJo_s Bizzare Adventure - Part 7 - Volume 24 - The Stars and Stripes Forever.pdf')">
      <div class="stamp">Volume 24</div>
      <img src="vol17cover.png" alt="">
      <div class="volume-meta">
        <div class="volume-title">SBR ‚Äì Volume 24</div>
        <div class="volume-sub">The Stars and Stripes Forever</div>
      </div>
    </div>

  </section>
</main>

<!-- Inline PDF reader overlay -->
<div id="reader" role="dialog" aria-hidden="true">
  <div class="reader-topbar">
    <button class="btn" onclick="goHome()">üè† Home</button>
  </div>

  <canvas id="pdf-canvas" aria-label="PDF canvas"></canvas>

  <div id="prev-zone" class="nav-zone" onclick="prevPage()" title="Previous page (left tap)"></div>
  <div id="next-zone" class="nav-zone" onclick="nextPage()" title="Next page (right tap)"></div>

  <div id="page-info">Page 0 / 0</div>
</div>

<script>
/* --- PDF reader logic preserved exactly as you provided earlier --- */
let pdfDoc = null;
let pageNum = 1;
const scale = 1.5;
const canvas = document.getElementById('pdf-canvas');
const ctx = canvas.getContext('2d');
const reader = document.getElementById('reader');
const pageInfo = document.getElementById('page-info');
const volumeList = document.getElementById('volume-list');

/* Prevent image dragging / ghost */
document.addEventListener('dragstart', e => e.preventDefault());
document.addEventListener('contextmenu', e => e.preventDefault());

async function openPDF(url) {
  reader.style.display = 'flex';
  reader.setAttribute('aria-hidden','false');
  document.body.style.overflow = 'hidden';
  volumeList.style.display = 'none';
  try {
    const loadingTask = pdfjsLib.getDocument(url);
    pdfDoc = await loadingTask.promise;
    pageNum = 1;
    renderPage(pageNum);
  } catch (err) {
    ctx.clearRect(0,0,canvas.width, canvas.height);
    pageInfo.innerText = "Failed to load PDF";
    console.error('PDF load error:', err);
  }
}

function renderPage(num) {
  if (!pdfDoc) return;
  pdfDoc.getPage(num).then(page => {
    const viewport = page.getViewport({ scale });
    canvas.width = viewport.width;
    canvas.height = viewport.height;
    page.render({ canvasContext: ctx, viewport });
    pageInfo.innerText = `${num} / ${pdfDoc.numPages}`;
  }).catch(err => {
    console.error('render error', err);
  });
}

function prevPage() {
  if (!pdfDoc) return;
  if (pageNum <= 1) return;
  pageNum--;
  renderPage(pageNum);
}

function nextPage() {
  if (!pdfDoc) return;
  if (pageNum >= pdfDoc.numPages) return;
  pageNum++;
  renderPage(pageNum);
}

function closePDF() {
  reader.style.display = 'none';
  reader.setAttribute('aria-hidden','true');
  volumeList.style.display = '';
  document.body.style.overflow = 'auto';
  if (ctx) ctx.clearRect(0,0,canvas.width, canvas.height);
  pdfDoc = null;
  pageNum = 1;
  pageInfo.innerText = '';
}

/* preserve scroll position */
const SCROLL_KEY = 'scroll_part3';
document.addEventListener('DOMContentLoaded', () => {
  const saved = localStorage.getItem(SCROLL_KEY);
  if (saved) window.scrollTo(0, parseInt(saved,10));
});
window.addEventListener('scroll', () => {
  localStorage.setItem(SCROLL_KEY, window.scrollY);
});

function goHome(){
  window.location.href = 'https://penyu444.github.io/JojosBizarreAdventureStorage/JojosBizarreAdventure.html';
}
</script>

</body>
</html>
